jQuery(document).ready(function($){function e(){for(var e=a.getPlace(),o=0;o<e.address_components.length;o++){var t=e.address_components[o].types[0];if(n[t]){var c=e.address_components[o][n[t]];console.log(t+" "+c),document.getElementById(t).value=c}}}function o(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var o={lat:e.coords.latitude,lng:e.coords.longitude},t=new google.maps.Circle({center:o,radius:e.coords.accuracy});a.setBounds(t.getBounds())})}console.log("[Sycle] JS loaded"),jQuery(".sycle-booking").length&&(sycle_ajax_object.hasOwnProperty("sycle_nonce")||sycle_ajax_object.hasOwnProperty("ajax_url"))&&(console.log("[syclebooking] detected"),$(".sycle-booking").validate(),$(".sycle-booking .sycle_booking_date").datepicker()),jQuery(".sycleclinicslist").length&&(sycle_ajax_object.hasOwnProperty("sycle_nonce")||sycle_ajax_object.hasOwnProperty("ajax_url"))&&$(".sycleclinicslist").each(function(e,o){jQuery.ajax({url:sycle_ajax_object.ajax_url,type:"post",data:{action:"sycle_get_clinics_list",_ajax_nonce:sycle_ajax_object.sycle_nonce},success:function(e){var t=$.parseJSON(e);$.each(t.clinic_details,function(e,t){$(o).find(".clinicslist").append("<li>"+t+"</li>").hide().fadeIn(350)})},error:function(e){console.log("Error:"),console.log(e)}})}),jQuery(".sycleautocomplete").length&&$(".sycleautocomplete").on("click",function(e){e.preventDefault(),a=new google.maps.places.Autocomplete(document.getElementById("sycleautocomplete"),{types:["geocode"]});var o="#";a.addListener("place_changed",function(){var o=a.getPlace(),t=a.getPlace().address_components,n={},l=[c.streetNumber,c.streetName,c.zipCode,c.stateName],s=[];t.forEach(function(e){l.forEach(function(o){e.types[0]===o.type&&s.push(e[o.display])})});var r=s.join(" ");console.log("new addrString "+r),jQuery.ajax({url:sycle_ajax_object.ajax_url,type:"post",data:{action:"sycle_get_search_results",_ajax_nonce:sycle_ajax_object.sycle_nonce,addressfield:t},success:function(o){var t=$.parseJSON(o);$(e.target).closest(".sycleapi").find(".clinicslist").empty(),$.each(t.clinic_details,function(o,t){$(e.target).closest(".sycleapi").find(".clinicslist").append("<li>"+t+"</li>").hide().fadeIn(350)})},error:function(e){console.log("Error:"),console.log(e)}})})});var t,a,n={street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",country:"long_name",postal_code:"short_name"},c={streetNumber:{display:"short_name",type:"street_number"},streetName:{display:"long_name",type:"route"},cityName:{display:"long_name",type:"locality"},stateName:{display:"short_name",type:"administrative_area_level_1"},zipCode:{display:"short_name",type:"postal_code"}}});